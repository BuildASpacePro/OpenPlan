import{j as e}from"./ViewToggle.-WxgrB4c.js";import{R as w,r as o}from"./index.B52nOzfP.js";function N({events:i=[]}){const[n,y]=o.useState("planned_time"),[x,h]=o.useState("asc"),[d,g]=o.useState("all"),p=o.useMemo(()=>{let t=i;return d!=="all"&&(t=i.filter(s=>s.event_type===d)),t.sort((s,m)=>{let r=s[n],a=m[n];return(n==="planned_time"||n==="end_time")&&(r=new Date(r),a=new Date(a)),typeof r=="string"&&(r=r.toLowerCase(),a=a.toLowerCase()),x==="asc"?r<a?-1:r>a?1:0:r>a?-1:r<a?1:0})},[i,n,x,d]),l=t=>{n===t?h(x==="asc"?"desc":"asc"):(y(t),h("asc"))},u=t=>{if(!t)return"-";try{return new Date(t).toLocaleString()}catch{return t}},f=t=>{if(!t)return"-";const s=Math.floor(t/60),m=t%60;return s>0?`${s}h ${m}m`:`${m}m`},j=t=>({health:"bg-green-100 text-green-800",payload:"bg-blue-100 text-blue-800",AOCS:"bg-purple-100 text-purple-800",communication:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800",access_window:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800",c=t=>n!==t?e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):x==="asc"?e.jsx("svg",{className:"w-4 h-4 text-astro-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}):e.jsx("svg",{className:"w-4 h-4 text-astro-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),v=o.useMemo(()=>{const t=new Set(i.map(s=>s.event_type));return Array.from(t)},[i]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"event-type-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Type:"}),e.jsxs("select",{id:"event-type-filter",value:d,onChange:t=>g(t.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-astro-blue focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),v.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]})]})}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",p.length," of ",i.length," events"]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("satellite_name"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"Satellite"}),c("satellite_name")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("event_type"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"Type"}),c("event_type")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("activity_type"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"Activity"}),c("activity_type")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("planned_time"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"Start Time"}),c("planned_time")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("end_time"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"End Time"}),c("end_time")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>l("duration"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"Duration"}),c("duration")]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mission"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:t.colour||"#6B7280"}}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.satellite_name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(t.event_type)}`,children:t.event_type})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.activity_type}),t.ground_station_name&&e.jsxs("div",{className:"text-xs text-gray-500",children:["â†’ ",t.ground_station_name]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u(t.planned_time)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u(t.end_time)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f(t.duration)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.mission})]},t.event_id||s))})]})}),p.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("p",{children:"No events found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]})]})}const _=w.memo(N);export{_ as default};
